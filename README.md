# 作業三

這次的作業是利用多線程多進程來處理多個 client 的請求

操作：正常鏈接後，在輸入提示符後面輸入/order，server 就會回傳發出請求的 client，的連線順序。

/room 是查看 server 有多少人正在連接（這不是寫作業要求）

此作業要求只能兩個 client 與 server 連接，第三個連接的話會收到 server 說滿了的訊息，並退出（client 主動）。
這邊流程是：

client 連接->server accept->傳送 full 字符串->client 接收->主動連接

## 本次重點

`pthread_create(...)`適用於創建線程，參數主要包含一個函數，用於該線程運行。
`pthread_detach(...)`是讓傳入的線程，設置為【分離狀態】，意思是線程終止時會自動釋放資源，以上可以讓線程不用等待。

`fork(...)`創建進程，從作業系統上課得知，他是複製自己帶內存其他地方
`fork(...)`的回傳值是 pid，可以用 if 判斷父子進程，運行不同的任務。

進程間通信之 signal
aka 中斷
kill(pid, SIGTERM)的意思是向 pid 發出 SIGTERM（正常終止）的中斷訊號
我這邊是用於如果伺服器斷開連接，就會終止兩個進程
還有如果輸入 EOF 也會終止
因為要同時終止，所以要傳遞訊號。

## 想說的話

好難，好多種訊號，而且多進程與多線程的編程風格不一樣，需要大量時間學習
